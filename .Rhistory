steyer_tweets <- search_tweets(steyer_query, n = 100000, retryonratelimit = TRUE)
save(steyer_tweets,file=paste0("steyer_",dateStart,".Rda"))
#Dropped out 2/11/20
#yang_query = paste0("@AndrewYang -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
#yang_tweets <- search_tweets(yang_query, n = 100000, retryonratelimit = TRUE)
#save(yang_tweets,file=paste0("yang_",dateStart,".Rda"))
rm(list = ls())
steyer_query = paste0("@TomSteyer -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
steyer_tweets <- search_tweets(steyer_query, n = 100000, retryonratelimit = TRUE)
save(steyer_tweets,file=paste0("TwitterProject\steyer_",dateStart,".Rda"))
steyer_query = paste0("@TomSteyer -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
steyer_tweets <- search_tweets(steyer_query, n = 100000, retryonratelimit = TRUE)
save(steyer_tweets,file=paste0("TwitterProject/steyer_",dateStart,".Rda"))
dateStart = "2020-02-23"
dateEnd = "2020-02-24"
steyer_query = paste0("@TomSteyer -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
steyer_tweets <- search_tweets(steyer_query, n = 100000, retryonratelimit = TRUE)
save(steyer_tweets,file=paste0("TwitterProject/steyer_",dateStart,".Rda"))
library(tidyverse)
library(sentimentr)
#Set date range of files to clean
startYear = "2020"
startMonth = "02"
startDay = 20
endDay = 23
for (j in startDay:endDay) {
loopDate = paste0(startYear,"-",startMonth,"-",formatC(j, width = 2, format ="d", flag = "0"))
loopFile = paste0("TwitterProject/ProcessedTweets/",loopDate,".Rda")
my_files <- list.files(pattern = loopFile)
my_data <- lapply(my_files, load, .GlobalEnv)
if(exists("sanders_tweets")){
sanders_temp_df <- sentiment(get_sentences(c(sanders_tweets$text)))
sanders_temp_df <- aggregate(sentiment ~ element_id, sanders_temp_df, sum)
sanders_output_df <- merge(sanders_tweets$text,sanders_temp_df$sentiment,by="row.names")
sanders_output_df <- within(sanders_output_df, rm("Row.names"))
sanders_output_df <- rename(sanders_output_df,"Text" = x,"Sentiment" = y)
save(sanders_output_df, file = paste0("TwitterProject/ProcessedTweets/sanders_",loopDate,"_sentiment.Rda"))
rm(sanders_tweets, sanders_temp_df, sanders_output_df)
}
if(exists("biden_tweets"))
{
biden_temp_df <- sentiment(get_sentences(c(biden_tweets$text)))
biden_temp_df <- aggregate(sentiment ~ element_id, biden_temp_df, sum)
biden_output_df <- merge(biden_tweets$text,biden_temp_df$sentiment,by="row.names")
biden_output_df <- within(biden_output_df, rm("Row.names"))
biden_output_df <- rename(biden_output_df,"Text" = x,"Sentiment" = y)
save(biden_output_df, file = paste0("TwitterProject/ProcessedTweets/biden_",loopDate,"_sentiment.Rda"))
rm(biden_tweets, biden_temp_df, biden_output_df)
}
if(exists("warren_tweets")){
warren_temp_df <- sentiment(get_sentences(c(warren_tweets$text)))
warren_temp_df <- aggregate(sentiment ~ element_id, warren_temp_df, sum)
warren_output_df <- merge(warren_tweets$text,warren_temp_df$sentiment,by="row.names")
warren_output_df <- within(warren_output_df, rm("Row.names"))
warren_output_df <- rename(warren_output_df,"Text" = x,"Sentiment" = y)
save(warren_output_df, file = paste0("TwitterProject/ProcessedTweets/warren_",loopDate,"_sentiment.Rda"))
rm(warren_tweets, warren_temp_df, warren_output_df)
}
if(exists("buttigieg_tweets")){
buttigieg_temp_df <- sentiment(get_sentences(c(buttigieg_tweets$text)))
buttigieg_temp_df <- aggregate(sentiment ~ element_id, buttigieg_temp_df, sum)
buttigieg_output_df <- merge(buttigieg_tweets$text,buttigieg_temp_df$sentiment,by="row.names")
buttigieg_output_df <- within(buttigieg_output_df, rm("Row.names"))
buttigieg_output_df <- rename(buttigieg_output_df,"Text" = x,"Sentiment" = y)
save(buttigieg_output_df, file = paste0("TwitterProject/ProcessedTweets/buttigieg_",loopDate,"_sentiment.Rda"))
rm(buttigieg_tweets, buttigieg_temp_df, buttigieg_output_df)
}
if(exists("klobuchar_tweets"))
{
klobuchar_temp_df <- sentiment(get_sentences(c(klobuchar_tweets$text)))
klobuchar_temp_df <- aggregate(sentiment ~ element_id, klobuchar_temp_df, sum)
klobuchar_output_df <- merge(klobuchar_tweets$text,klobuchar_temp_df$sentiment,by="row.names")
klobuchar_output_df <- within(klobuchar_output_df, rm("Row.names"))
klobuchar_output_df <- rename(klobuchar_output_df,"Text" = x,"Sentiment" = y)
save(klobuchar_output_df, file = paste0("TwitterProject/ProcessedTweets/klobuchar_",loopDate,"_sentiment.Rda"))
rm(klobuchar_tweets, klobuchar_temp_df, klobuchar_output_df)
}
if(exists("bloomberg_tweets")){
bloomberg_temp_df <- sentiment(get_sentences(c(bloomberg_tweets$text)))
bloomberg_temp_df <- aggregate(sentiment ~ element_id, bloomberg_temp_df, sum)
bloomberg_output_df <- merge(bloomberg_tweets$text,bloomberg_temp_df$sentiment,by="row.names")
bloomberg_output_df <- within(bloomberg_output_df, rm("Row.names"))
bloomberg_output_df <- rename(bloomberg_output_df,"Text" = x,"Sentiment" = y)
save(bloomberg_output_df, file = paste0("TwitterProject/ProcessedTweets/bloomberg_",loopDate,"_sentiment.Rda"))
rm(bloomberg_tweets, bloomberg_temp_df, bloomberg_output_df)
}
if(exists("steyer_tweets")){
steyer_temp_df <- sentiment(get_sentences(c(steyer_tweets$text)))
steyer_temp_df <- aggregate(sentiment ~ element_id, steyer_temp_df, sum)
steyer_output_df <- merge(steyer_tweets$text,steyer_temp_df$sentiment,by="row.names")
steyer_output_df <- within(steyer_output_df, rm("Row.names"))
steyer_output_df <- rename(steyer_output_df,"Text" = x,"Sentiment" = y)
save(steyer_output_df, file = paste0("TwitterProject/ProcessedTweets/steyer_",loopDate,"_sentiment.Rda"))
rm(steyer_tweets, steyer_temp_df, steyer_output_df)
}
if(exists("yang_tweets")){
yang_temp_df <- sentiment(get_sentences(c(yang_tweets$text)))
yang_temp_df <- aggregate(sentiment ~ element_id, yang_temp_df, sum)
yang_output_df <- merge(yang_tweets$text,yang_temp_df$sentiment,by="row.names")
yang_output_df <- within(yang_output_df, rm("Row.names"))
yang_output_df <- rename(yang_output_df,"Text" = x,"Sentiment" = y)
save(yang_output_df, file = paste0("TwitterProject/ProcessedTweets/yang_",loopDate,"_sentiment.Rda"))
rm(yang_tweets, yang_temp_df, yang_output_df)
}
}
#Set date range of files to clean
startYear = "2020"
startMonth = "02"
startDay = 20
endDay = 23
for (j in startDay:endDay) {
loopDate = paste0(startYear,"-",startMonth,"-",formatC(j, width = 2, format ="d", flag = "0"))
loopFile = paste0("TwitterProject/RawTweets/",loopDate,".Rda")
my_files <- list.files(pattern = loopFile)
my_data <- lapply(my_files, load, .GlobalEnv)
if(exists("sanders_tweets")){
sanders_temp_df <- sentiment(get_sentences(c(sanders_tweets$text)))
sanders_temp_df <- aggregate(sentiment ~ element_id, sanders_temp_df, sum)
sanders_output_df <- merge(sanders_tweets$text,sanders_temp_df$sentiment,by="row.names")
sanders_output_df <- within(sanders_output_df, rm("Row.names"))
sanders_output_df <- rename(sanders_output_df,"Text" = x,"Sentiment" = y)
save(sanders_output_df, file = paste0("TwitterProject/ProcessedTweets/sanders_",loopDate,"_sentiment.Rda"))
rm(sanders_tweets, sanders_temp_df, sanders_output_df)
}
if(exists("biden_tweets"))
{
biden_temp_df <- sentiment(get_sentences(c(biden_tweets$text)))
biden_temp_df <- aggregate(sentiment ~ element_id, biden_temp_df, sum)
biden_output_df <- merge(biden_tweets$text,biden_temp_df$sentiment,by="row.names")
biden_output_df <- within(biden_output_df, rm("Row.names"))
biden_output_df <- rename(biden_output_df,"Text" = x,"Sentiment" = y)
save(biden_output_df, file = paste0("TwitterProject/ProcessedTweets/biden_",loopDate,"_sentiment.Rda"))
rm(biden_tweets, biden_temp_df, biden_output_df)
}
if(exists("warren_tweets")){
warren_temp_df <- sentiment(get_sentences(c(warren_tweets$text)))
warren_temp_df <- aggregate(sentiment ~ element_id, warren_temp_df, sum)
warren_output_df <- merge(warren_tweets$text,warren_temp_df$sentiment,by="row.names")
warren_output_df <- within(warren_output_df, rm("Row.names"))
warren_output_df <- rename(warren_output_df,"Text" = x,"Sentiment" = y)
save(warren_output_df, file = paste0("TwitterProject/ProcessedTweets/warren_",loopDate,"_sentiment.Rda"))
rm(warren_tweets, warren_temp_df, warren_output_df)
}
if(exists("buttigieg_tweets")){
buttigieg_temp_df <- sentiment(get_sentences(c(buttigieg_tweets$text)))
buttigieg_temp_df <- aggregate(sentiment ~ element_id, buttigieg_temp_df, sum)
buttigieg_output_df <- merge(buttigieg_tweets$text,buttigieg_temp_df$sentiment,by="row.names")
buttigieg_output_df <- within(buttigieg_output_df, rm("Row.names"))
buttigieg_output_df <- rename(buttigieg_output_df,"Text" = x,"Sentiment" = y)
save(buttigieg_output_df, file = paste0("TwitterProject/ProcessedTweets/buttigieg_",loopDate,"_sentiment.Rda"))
rm(buttigieg_tweets, buttigieg_temp_df, buttigieg_output_df)
}
if(exists("klobuchar_tweets"))
{
klobuchar_temp_df <- sentiment(get_sentences(c(klobuchar_tweets$text)))
klobuchar_temp_df <- aggregate(sentiment ~ element_id, klobuchar_temp_df, sum)
klobuchar_output_df <- merge(klobuchar_tweets$text,klobuchar_temp_df$sentiment,by="row.names")
klobuchar_output_df <- within(klobuchar_output_df, rm("Row.names"))
klobuchar_output_df <- rename(klobuchar_output_df,"Text" = x,"Sentiment" = y)
save(klobuchar_output_df, file = paste0("TwitterProject/ProcessedTweets/klobuchar_",loopDate,"_sentiment.Rda"))
rm(klobuchar_tweets, klobuchar_temp_df, klobuchar_output_df)
}
if(exists("bloomberg_tweets")){
bloomberg_temp_df <- sentiment(get_sentences(c(bloomberg_tweets$text)))
bloomberg_temp_df <- aggregate(sentiment ~ element_id, bloomberg_temp_df, sum)
bloomberg_output_df <- merge(bloomberg_tweets$text,bloomberg_temp_df$sentiment,by="row.names")
bloomberg_output_df <- within(bloomberg_output_df, rm("Row.names"))
bloomberg_output_df <- rename(bloomberg_output_df,"Text" = x,"Sentiment" = y)
save(bloomberg_output_df, file = paste0("TwitterProject/ProcessedTweets/bloomberg_",loopDate,"_sentiment.Rda"))
rm(bloomberg_tweets, bloomberg_temp_df, bloomberg_output_df)
}
if(exists("steyer_tweets")){
steyer_temp_df <- sentiment(get_sentences(c(steyer_tweets$text)))
steyer_temp_df <- aggregate(sentiment ~ element_id, steyer_temp_df, sum)
steyer_output_df <- merge(steyer_tweets$text,steyer_temp_df$sentiment,by="row.names")
steyer_output_df <- within(steyer_output_df, rm("Row.names"))
steyer_output_df <- rename(steyer_output_df,"Text" = x,"Sentiment" = y)
save(steyer_output_df, file = paste0("TwitterProject/ProcessedTweets/steyer_",loopDate,"_sentiment.Rda"))
rm(steyer_tweets, steyer_temp_df, steyer_output_df)
}
if(exists("yang_tweets")){
yang_temp_df <- sentiment(get_sentences(c(yang_tweets$text)))
yang_temp_df <- aggregate(sentiment ~ element_id, yang_temp_df, sum)
yang_output_df <- merge(yang_tweets$text,yang_temp_df$sentiment,by="row.names")
yang_output_df <- within(yang_output_df, rm("Row.names"))
yang_output_df <- rename(yang_output_df,"Text" = x,"Sentiment" = y)
save(yang_output_df, file = paste0("TwitterProject/ProcessedTweets/yang_",loopDate,"_sentiment.Rda"))
rm(yang_tweets, yang_temp_df, yang_output_df)
}
}
getwd()
setwd("/RawTweets/")
setwd("RawTweets/")
setwd("C:/Users/kmmcg/OneDrive/Documents/DScourseS20/RawTweets/")
setwd("/DScourseS20/RawTweets/")
setwd("~/DScourseS20/RawTweets/")
setwd("~/")
getwd()
setwd("~/DScourseS20")
setwd("~/DScourseS20/TwitterProject/RawTweets")
#Set date range of files to clean
startYear = "2020"
startMonth = "02"
startDay = 20
endDay = 23
setwd("~/DScourseS20/TwitterProject/RawTweets")
for (j in startDay:endDay) {
loopDate = paste0(startYear,"-",startMonth,"-",formatC(j, width = 2, format ="d", flag = "0"))
loopFile = paste0(loopDate,".Rda")
my_files <- list.files(pattern = loopFile)
my_data <- lapply(my_files, load, .GlobalEnv)
if(exists("sanders_tweets")){
sanders_temp_df <- sentiment(get_sentences(c(sanders_tweets$text)))
sanders_temp_df <- aggregate(sentiment ~ element_id, sanders_temp_df, sum)
sanders_output_df <- merge(sanders_tweets$text,sanders_temp_df$sentiment,by="row.names")
sanders_output_df <- within(sanders_output_df, rm("Row.names"))
sanders_output_df <- rename(sanders_output_df,"Text" = x,"Sentiment" = y)
save(sanders_output_df, file = paste0("TwitterProject/ProcessedTweets/sanders_",loopDate,"_sentiment.Rda"))
rm(sanders_tweets, sanders_temp_df, sanders_output_df)
}
if(exists("biden_tweets"))
{
biden_temp_df <- sentiment(get_sentences(c(biden_tweets$text)))
biden_temp_df <- aggregate(sentiment ~ element_id, biden_temp_df, sum)
biden_output_df <- merge(biden_tweets$text,biden_temp_df$sentiment,by="row.names")
biden_output_df <- within(biden_output_df, rm("Row.names"))
biden_output_df <- rename(biden_output_df,"Text" = x,"Sentiment" = y)
save(biden_output_df, file = paste0("TwitterProject/ProcessedTweets/biden_",loopDate,"_sentiment.Rda"))
rm(biden_tweets, biden_temp_df, biden_output_df)
}
if(exists("warren_tweets")){
warren_temp_df <- sentiment(get_sentences(c(warren_tweets$text)))
warren_temp_df <- aggregate(sentiment ~ element_id, warren_temp_df, sum)
warren_output_df <- merge(warren_tweets$text,warren_temp_df$sentiment,by="row.names")
warren_output_df <- within(warren_output_df, rm("Row.names"))
warren_output_df <- rename(warren_output_df,"Text" = x,"Sentiment" = y)
save(warren_output_df, file = paste0("TwitterProject/ProcessedTweets/warren_",loopDate,"_sentiment.Rda"))
rm(warren_tweets, warren_temp_df, warren_output_df)
}
if(exists("buttigieg_tweets")){
buttigieg_temp_df <- sentiment(get_sentences(c(buttigieg_tweets$text)))
buttigieg_temp_df <- aggregate(sentiment ~ element_id, buttigieg_temp_df, sum)
buttigieg_output_df <- merge(buttigieg_tweets$text,buttigieg_temp_df$sentiment,by="row.names")
buttigieg_output_df <- within(buttigieg_output_df, rm("Row.names"))
buttigieg_output_df <- rename(buttigieg_output_df,"Text" = x,"Sentiment" = y)
save(buttigieg_output_df, file = paste0("TwitterProject/ProcessedTweets/buttigieg_",loopDate,"_sentiment.Rda"))
rm(buttigieg_tweets, buttigieg_temp_df, buttigieg_output_df)
}
if(exists("klobuchar_tweets"))
{
klobuchar_temp_df <- sentiment(get_sentences(c(klobuchar_tweets$text)))
klobuchar_temp_df <- aggregate(sentiment ~ element_id, klobuchar_temp_df, sum)
klobuchar_output_df <- merge(klobuchar_tweets$text,klobuchar_temp_df$sentiment,by="row.names")
klobuchar_output_df <- within(klobuchar_output_df, rm("Row.names"))
klobuchar_output_df <- rename(klobuchar_output_df,"Text" = x,"Sentiment" = y)
save(klobuchar_output_df, file = paste0("TwitterProject/ProcessedTweets/klobuchar_",loopDate,"_sentiment.Rda"))
rm(klobuchar_tweets, klobuchar_temp_df, klobuchar_output_df)
}
if(exists("bloomberg_tweets")){
bloomberg_temp_df <- sentiment(get_sentences(c(bloomberg_tweets$text)))
bloomberg_temp_df <- aggregate(sentiment ~ element_id, bloomberg_temp_df, sum)
bloomberg_output_df <- merge(bloomberg_tweets$text,bloomberg_temp_df$sentiment,by="row.names")
bloomberg_output_df <- within(bloomberg_output_df, rm("Row.names"))
bloomberg_output_df <- rename(bloomberg_output_df,"Text" = x,"Sentiment" = y)
save(bloomberg_output_df, file = paste0("TwitterProject/ProcessedTweets/bloomberg_",loopDate,"_sentiment.Rda"))
rm(bloomberg_tweets, bloomberg_temp_df, bloomberg_output_df)
}
if(exists("steyer_tweets")){
steyer_temp_df <- sentiment(get_sentences(c(steyer_tweets$text)))
steyer_temp_df <- aggregate(sentiment ~ element_id, steyer_temp_df, sum)
steyer_output_df <- merge(steyer_tweets$text,steyer_temp_df$sentiment,by="row.names")
steyer_output_df <- within(steyer_output_df, rm("Row.names"))
steyer_output_df <- rename(steyer_output_df,"Text" = x,"Sentiment" = y)
save(steyer_output_df, file = paste0("TwitterProject/ProcessedTweets/steyer_",loopDate,"_sentiment.Rda"))
rm(steyer_tweets, steyer_temp_df, steyer_output_df)
}
if(exists("yang_tweets")){
yang_temp_df <- sentiment(get_sentences(c(yang_tweets$text)))
yang_temp_df <- aggregate(sentiment ~ element_id, yang_temp_df, sum)
yang_output_df <- merge(yang_tweets$text,yang_temp_df$sentiment,by="row.names")
yang_output_df <- within(yang_output_df, rm("Row.names"))
yang_output_df <- rename(yang_output_df,"Text" = x,"Sentiment" = y)
save(yang_output_df, file = paste0("TwitterProject/ProcessedTweets/yang_",loopDate,"_sentiment.Rda"))
rm(yang_tweets, yang_temp_df, yang_output_df)
}
}
library(tidyverse)
library(sentimentr)
#Set date range of files to clean
startYear = "2020"
startMonth = "02"
startDay = 20
endDay = 23
for (j in startDay:endDay) {
loopDate = paste0(startYear,"-",startMonth,"-",formatC(j, width = 2, format ="d", flag = "0"))
setwd("~/DScourseS20/TwitterProject/RawTweets")
loopFile = paste0(loopDate,".Rda")
my_files <- list.files(pattern = loopFile)
my_data <- lapply(my_files, load, .GlobalEnv)
setwd("~/DScourseS20/TwitterProject/ProcessedTweets")
if(exists("sanders_tweets")){
sanders_temp_df <- sentiment(get_sentences(c(sanders_tweets$text)))
sanders_temp_df <- aggregate(sentiment ~ element_id, sanders_temp_df, sum)
sanders_output_df <- merge(sanders_tweets$text,sanders_temp_df$sentiment,by="row.names")
sanders_output_df <- within(sanders_output_df, rm("Row.names"))
sanders_output_df <- rename(sanders_output_df,"Text" = x,"Sentiment" = y)
save(sanders_output_df, file = paste0("sanders_",loopDate,"_sentiment.Rda"))
rm(sanders_tweets, sanders_temp_df, sanders_output_df)
}
if(exists("biden_tweets"))
{
biden_temp_df <- sentiment(get_sentences(c(biden_tweets$text)))
biden_temp_df <- aggregate(sentiment ~ element_id, biden_temp_df, sum)
biden_output_df <- merge(biden_tweets$text,biden_temp_df$sentiment,by="row.names")
biden_output_df <- within(biden_output_df, rm("Row.names"))
biden_output_df <- rename(biden_output_df,"Text" = x,"Sentiment" = y)
save(biden_output_df, file = paste0("biden_",loopDate,"_sentiment.Rda"))
rm(biden_tweets, biden_temp_df, biden_output_df)
}
if(exists("warren_tweets")){
warren_temp_df <- sentiment(get_sentences(c(warren_tweets$text)))
warren_temp_df <- aggregate(sentiment ~ element_id, warren_temp_df, sum)
warren_output_df <- merge(warren_tweets$text,warren_temp_df$sentiment,by="row.names")
warren_output_df <- within(warren_output_df, rm("Row.names"))
warren_output_df <- rename(warren_output_df,"Text" = x,"Sentiment" = y)
save(warren_output_df, file = paste0("warren_",loopDate,"_sentiment.Rda"))
rm(warren_tweets, warren_temp_df, warren_output_df)
}
if(exists("buttigieg_tweets")){
buttigieg_temp_df <- sentiment(get_sentences(c(buttigieg_tweets$text)))
buttigieg_temp_df <- aggregate(sentiment ~ element_id, buttigieg_temp_df, sum)
buttigieg_output_df <- merge(buttigieg_tweets$text,buttigieg_temp_df$sentiment,by="row.names")
buttigieg_output_df <- within(buttigieg_output_df, rm("Row.names"))
buttigieg_output_df <- rename(buttigieg_output_df,"Text" = x,"Sentiment" = y)
save(buttigieg_output_df, file = paste0("buttigieg_",loopDate,"_sentiment.Rda"))
rm(buttigieg_tweets, buttigieg_temp_df, buttigieg_output_df)
}
if(exists("klobuchar_tweets"))
{
klobuchar_temp_df <- sentiment(get_sentences(c(klobuchar_tweets$text)))
klobuchar_temp_df <- aggregate(sentiment ~ element_id, klobuchar_temp_df, sum)
klobuchar_output_df <- merge(klobuchar_tweets$text,klobuchar_temp_df$sentiment,by="row.names")
klobuchar_output_df <- within(klobuchar_output_df, rm("Row.names"))
klobuchar_output_df <- rename(klobuchar_output_df,"Text" = x,"Sentiment" = y)
save(klobuchar_output_df, file = paste0("klobuchar_",loopDate,"_sentiment.Rda"))
rm(klobuchar_tweets, klobuchar_temp_df, klobuchar_output_df)
}
if(exists("bloomberg_tweets")){
bloomberg_temp_df <- sentiment(get_sentences(c(bloomberg_tweets$text)))
bloomberg_temp_df <- aggregate(sentiment ~ element_id, bloomberg_temp_df, sum)
bloomberg_output_df <- merge(bloomberg_tweets$text,bloomberg_temp_df$sentiment,by="row.names")
bloomberg_output_df <- within(bloomberg_output_df, rm("Row.names"))
bloomberg_output_df <- rename(bloomberg_output_df,"Text" = x,"Sentiment" = y)
save(bloomberg_output_df, file = paste0("bloomberg_",loopDate,"_sentiment.Rda"))
rm(bloomberg_tweets, bloomberg_temp_df, bloomberg_output_df)
}
if(exists("steyer_tweets")){
steyer_temp_df <- sentiment(get_sentences(c(steyer_tweets$text)))
steyer_temp_df <- aggregate(sentiment ~ element_id, steyer_temp_df, sum)
steyer_output_df <- merge(steyer_tweets$text,steyer_temp_df$sentiment,by="row.names")
steyer_output_df <- within(steyer_output_df, rm("Row.names"))
steyer_output_df <- rename(steyer_output_df,"Text" = x,"Sentiment" = y)
save(steyer_output_df, file = paste0("steyer_",loopDate,"_sentiment.Rda"))
rm(steyer_tweets, steyer_temp_df, steyer_output_df)
}
if(exists("yang_tweets")){
yang_temp_df <- sentiment(get_sentences(c(yang_tweets$text)))
yang_temp_df <- aggregate(sentiment ~ element_id, yang_temp_df, sum)
yang_output_df <- merge(yang_tweets$text,yang_temp_df$sentiment,by="row.names")
yang_output_df <- within(yang_output_df, rm("Row.names"))
yang_output_df <- rename(yang_output_df,"Text" = x,"Sentiment" = y)
save(yang_output_df, file = paste0("yang_",loopDate,"_sentiment.Rda"))
rm(yang_tweets, yang_temp_df, yang_output_df)
}
}
setwd("~/DScourseS20/TwitterProject/RawTweets")
getwd()
setwd("~/DScourseS20/TwitterProject/ProcessedTweets")
getwd()
#Initialize libraries
library(rtweet)
#Set date range from target start date to date after target end date
dateStart = "2020-02-24"
dateEnd = "2020-02-25"
sanders_query = paste0("@BernieSanders -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
sanders_tweets <- search_tweets(sanders_query, n = 100000, retryonratelimit = TRUE)
save(sanders_tweets,file=paste0("TwitterProject/RawTweets/sanders_",dateStart,".Rda"))
biden_query = paste0("@JoeBiden -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
biden_tweets <- search_tweets(biden_query, n = 100000, retryonratelimit = TRUE)
save(biden_tweets,file=paste0("TwitterProject/RawTweets/biden_",dateStart,".Rda"))
warren_query = paste0("@ewarren -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
warren_tweets <- search_tweets(warren_query, n = 100000, retryonratelimit = TRUE)
save(warren_tweets,file=paste0("TwitterProject/RawTweets/warren_",dateStart,".Rda"))
buttigieg_query = paste0("@PeteButtigieg -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
buttigieg_tweets <- search_tweets(buttigieg_query, n = 100000, retryonratelimit = TRUE)
save(buttigieg_tweets,file=paste0("TwitterProject/RawTweets/buttigieg_",dateStart,".Rda"))
klobuchar_query = paste0("@amyklobuchar -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
klobuchar_tweets <- search_tweets(klobuchar_query, n = 100000, retryonratelimit = TRUE)
save(klobuchar_tweets,file=paste0("TwitterProject/RawTweets/klobuchar_",dateStart,".Rda"))
bloomberg_query = paste0("@MikeBloomberg -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
bloomberg_tweets <- search_tweets(bloomberg_query, n = 100000, retryonratelimit = TRUE)
save(bloomberg_tweets,file=paste0("TwitterProject/RawTweets/bloomberg_",dateStart,".Rda"))
steyer_query = paste0("@TomSteyer -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
steyer_tweets <- search_tweets(steyer_query, n = 100000, retryonratelimit = TRUE)
save(steyer_tweets,file=paste0("TwitterProject/RawTweets/steyer_",dateStart,".Rda"))
#Dropped out 2/11/20
#yang_query = paste0("@AndrewYang -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
#yang_tweets <- search_tweets(yang_query, n = 100000, retryonratelimit = TRUE)
#save(yang_tweets,file=paste0("TwitterProject/RawTweets/yang_",dateStart,".Rda"))
rm(list = ls())
#Set date range from target start date to date after target end date
dateStart = "2020-02-25"
dateEnd = "2020-02-26"
sanders_query = paste0("@BernieSanders -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
sanders_tweets <- search_tweets(sanders_query, n = 100000, retryonratelimit = TRUE)
save(sanders_tweets,file=paste0("TwitterProject/RawTweets/sanders_",dateStart,".Rda"))
biden_query = paste0("@JoeBiden -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
biden_tweets <- search_tweets(biden_query, n = 100000, retryonratelimit = TRUE)
save(biden_tweets,file=paste0("TwitterProject/RawTweets/biden_",dateStart,".Rda"))
warren_query = paste0("@ewarren -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
warren_tweets <- search_tweets(warren_query, n = 100000, retryonratelimit = TRUE)
save(warren_tweets,file=paste0("TwitterProject/RawTweets/warren_",dateStart,".Rda"))
buttigieg_query = paste0("@PeteButtigieg -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
buttigieg_tweets <- search_tweets(buttigieg_query, n = 100000, retryonratelimit = TRUE)
save(buttigieg_tweets,file=paste0("TwitterProject/RawTweets/buttigieg_",dateStart,".Rda"))
klobuchar_query = paste0("@amyklobuchar -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
klobuchar_tweets <- search_tweets(klobuchar_query, n = 100000, retryonratelimit = TRUE)
save(klobuchar_tweets,file=paste0("TwitterProject/RawTweets/klobuchar_",dateStart,".Rda"))
bloomberg_query = paste0("@MikeBloomberg -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
bloomberg_tweets <- search_tweets(bloomberg_query, n = 100000, retryonratelimit = TRUE)
save(bloomberg_tweets,file=paste0("TwitterProject/RawTweets/bloomberg_",dateStart,".Rda"))
steyer_query = paste0("@TomSteyer -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
steyer_tweets <- search_tweets(steyer_query, n = 100000, retryonratelimit = TRUE)
save(steyer_tweets,file=paste0("TwitterProject/RawTweets/steyer_",dateStart,".Rda"))
#Dropped out 2/11/20
#yang_query = paste0("@AndrewYang -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
#yang_tweets <- search_tweets(yang_query, n = 100000, retryonratelimit = TRUE)
#save(yang_tweets,file=paste0("TwitterProject/RawTweets/yang_",dateStart,".Rda"))
rm(list = ls())
#Set date range from target start date to date after target end date
dateStart = "2020-02-26"
dateEnd = "2020-02-27"
sanders_query = paste0("@BernieSanders -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
sanders_tweets <- search_tweets(sanders_query, n = 100000, retryonratelimit = TRUE)
save(sanders_tweets,file=paste0("TwitterProject/RawTweets/sanders_",dateStart,".Rda"))
biden_query = paste0("@JoeBiden -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
biden_tweets <- search_tweets(biden_query, n = 100000, retryonratelimit = TRUE)
save(biden_tweets,file=paste0("TwitterProject/RawTweets/biden_",dateStart,".Rda"))
warren_query = paste0("@ewarren -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
warren_tweets <- search_tweets(warren_query, n = 100000, retryonratelimit = TRUE)
save(warren_tweets,file=paste0("TwitterProject/RawTweets/warren_",dateStart,".Rda"))
buttigieg_query = paste0("@PeteButtigieg -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
buttigieg_tweets <- search_tweets(buttigieg_query, n = 100000, retryonratelimit = TRUE)
save(buttigieg_tweets,file=paste0("TwitterProject/RawTweets/buttigieg_",dateStart,".Rda"))
klobuchar_query = paste0("@amyklobuchar -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
klobuchar_tweets <- search_tweets(klobuchar_query, n = 100000, retryonratelimit = TRUE)
save(klobuchar_tweets,file=paste0("TwitterProject/RawTweets/klobuchar_",dateStart,".Rda"))
bloomberg_query = paste0("@MikeBloomberg -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
bloomberg_tweets <- search_tweets(bloomberg_query, n = 100000, retryonratelimit = TRUE)
save(bloomberg_tweets,file=paste0("TwitterProject/RawTweets/bloomberg_",dateStart,".Rda"))
steyer_query = paste0("@TomSteyer -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
steyer_tweets <- search_tweets(steyer_query, n = 100000, retryonratelimit = TRUE)
save(steyer_tweets,file=paste0("TwitterProject/RawTweets/steyer_",dateStart,".Rda"))
#Dropped out 2/11/20
#yang_query = paste0("@AndrewYang -filter:retweets -filter:replies since:",dateStart," until:",dateEnd)
#yang_tweets <- search_tweets(yang_query, n = 100000, retryonratelimit = TRUE)
#save(yang_tweets,file=paste0("TwitterProject/RawTweets/yang_",dateStart,".Rda"))
rm(list = ls())
git add .
load("statistics.Rda")
load("~/DScourseS20/TwitterProject/statistics.Rda")
load("~/DScourseS20/TwitterProject/statistics.Rda")
load("~/DScourseS20/TwitterProject/poll_avg_nat.Rda")
load("~/DScourseS20/TwitterProject/poll_avg_state.Rda")
View(statistics)
View(statistics)
library(ggplot2)
library(ggthemes)
load("~/DScourseS20/TwitterProject/statistics.Rda")
load("~/DScourseS20/TwitterProject/poll_avg_nat.Rda")
load("~/DScourseS20/TwitterProject/poll_avg_state.Rda")
dev.off()
#Plot Percent Sentiment data
ggplot(data = statistics,
aes(x = as.Date(Date, "%m/%d/%Y"),
y = Percent_Sentiment,
group = Candidate,
color = Candidate)) +
geom_line() +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
#Plot Average Sentiment data
ggplot(data = statistics,
aes(x = as.Date(Date, "%m/%d/%Y"),
y = Average_Sentiment,
group = Candidate,
color = Candidate)) +
geom_line() +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
#Plot FiveThirtyEight national polling average
ggplot(data = poll_avg_nat,
aes(x = as.Date(modeldate, "%m/%d/%Y"),
y = pct_estimate,
group = candidate_name,
color = candidate_name)) +
geom_line() +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
View(statistics)
View(statistics)
file.edit('~/DScourseS20/TwitterProject/Clean Tweets.R')
